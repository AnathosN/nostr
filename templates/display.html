<!DOCTYPE html>
<html>
  <head>
    <style>
      body {
        background-color: black;
        color: white;
      }
      table {
        width: 100%;
        border-collapse: collapse;
      }
      th, td {
        border: 1px solid white;
        padding: 8px;
        text-align: left;
      }
      th {
        background-color: grey;
      }
    </style>
  </head>
  <body>
    <table>
  <tr>
    <th>Identifier</th>
    <th>Hex Key</th>
    <th>NIP-05 Identifier</th>
  </tr>
  {% for item in content %}
  <tr>
    <td>{{ item[0] }}</td>
    <td>{{ item[1] }}</td>
    <td>{{ item[2] }}</td>
  </tr>
  {% endfor %}
</table>



anathos@btcbavaria.com
seems the input of the hex key is now missing in the register method?
You can add the input for the hex key by using a form in the HTML template and using the request.form object to retrieve the data when the form is submitted. Here's an example:

kotlin
Copy code
# Register method
@app.route("/register", methods=["GET", "POST"])
def register():
    if request.method == "POST":
        identifier = request.form["identifier"]
        hex_key = request.form["hex_key"]
        nostr_file = os.path.join(".well-known", "nostr.json")
        data = {"names": {}}
        if os.path.exists(nostr_file):
            with open(nostr_file, "r") as f:
                data = json.load(f)
        data["names"][identifier] = hex_key
        with open(nostr_file, "w") as f:
            json.dump(data, f, indent=4)
        return redirect(url_for("display", identifier=identifier))
    return render_template("register.html")

# Display method
@app.route("/display/<identifier>")
def display(identifier):
    nostr_file = os.path.join(".well-known", "nostr.json")
    if os.path.exists(nostr_file):
        with open(nostr_file, "r") as f:
            data = json.load(f)
            hex_key = data["names"].get(identifier)
            if hex_key:
                return render_template("display.html", identifier=identifier, hex_key=hex_key)
            else:
                return "Identifier not found in nostr.json"
    else:
        return "nostr.json file not found!"
And in the register.html file:

php
Copy code
<form action="/register" method="post">
  <div>
    <label for="identifier">Identifier:</label>
    <input type="text" id="identifier" name="identifier">
  </div>
  <div>
    <label for="hex_key">Hex Key:</label>
    <input type="text" id="hex_key" name="hex_key">
  </div>
  <input type="submit" value="Submit">
</form>
And in the display.html file:

less
Copy code
<table>
  <tr>
    <th>Your Profile Name</th>
    <th>Hex Pub Key</th>
    <th>NIP-05 Identifier</th>
  </tr>
  <tr>
    <td>{{ identifier }}</td>
    <td>{{ hex_key }}</td>
    <td>{{ identifier }}@nostr.lnadresse.de</td>
  </tr>
</table>



  </body>
</html>

